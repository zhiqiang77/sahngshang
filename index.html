<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CZQ LOVE SCY</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000;
            overflow: hidden;
            font-family: "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
        }
        
        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        
        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        #title {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 36px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
            z-index: 10;
        }
        
        #instructions {
            position: absolute;
            bottom: 10px;
            right: 10px;
            color: #aaa;
            font-size: 16px;
            z-index: 10;
        }
        
        #fps {
            position: absolute;
            bottom: 10px;
            left: 10px;
            color: #666;
            font-size: 16px;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div id="container">
        <canvas id="canvas"></canvas>
        <!-- <div id="title">50种语言说爱你</div> -->
        <!-- <div id="instructions">按ESC键退出</div> -->
        <!-- <div id="fps">FPS: 0</div> -->
    </div>

    <script>
        // 初始化Canvas
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // 多语言“我爱你”文本库
        const loveTexts = [
            "Mola le offi la tee", "mihai amestiah sind", "milvini un ne seibesc", "Le sakam", "Mlohuujam",
            "Te sakam", "chami dài e n ki n M", "Te dua", "Té okabescu", "Tá grá agam duit", "Kocham Ci",
            "Saya cintakan kamu", "我爱你", "Te ambesc", "Mahal kita", "Jeg elsker deg", "Mihaji té", "Meng sona",
            "Szerethékda", "Jag Tjukin", "Teja amerhi", "L kertesi skarji", "joga nem lesen", "nyolyomni",
            "I love you", "Je t'aime", "Ich liebe dich", "Ti amo", "Te amo", "あいしてる",
            "我爱你", "我中意你", "我爱侬", "我欢喜你", "我爱你", "我愛你", "勾买蒙", "额爱你","我待见你",
            "恩欢喜你", "我爱列", "Ik hou van je", "Saya cintakan mu", "Ti amo", "Jeg elsker dig",
            "Aku cinta padamu", "Saya cinta kamu", "Ljubim te", "俺喜欢", "我稀罕你", "俺稀罕你","阿秋拉嘎"
        ];
        
        // 颜色数组
        const colors = [
            "rgb(255, 182, 193)", "rgb(255, 105, 180)", "rgb(255, 20, 147)", "rgb(218, 112, 214)"
        ];
        
        // 弹幕文本
        const danmuTexts = ["我爱你", "在一起", "我喜欢你", "商商和我交往吧", "阿秋拉嘎","余生请多指教"];
        const danmuColor = "rgb(255, 239, 213)";
        
        // 生成爱心轨迹点
        const lovePoints = [];
        const width = canvas.width;
        const height = canvas.height;
        
        for (let t = 0; t < 1000; t++) {
            const theta = t / 1000 * 2 * Math.PI;
            const x = 15 * (Math.pow(Math.sin(theta), 3));
            const y = 10 * Math.cos(theta) - 5 * Math.cos(2 * theta) - 2 * Math.cos(3 * theta) - Math.cos(4 * theta);
            const scaledX = x * 18 + width / 2;
            const scaledY = -y * 18 + height / 2;
            lovePoints.push([scaledX, scaledY]);
        }
        
        // 文字对象
        const textObjects = [];
        
        for (let i = 0; i < loveTexts.length; i++) {
            const color = colors[i % colors.length];
            const idx = Math.floor(Math.random() * lovePoints.length);
            const [x, y] = lovePoints[idx];
            const speedX = Math.random() * 0.3 - 0.15;
            const speedY = Math.random() * 0.3 - 0.15;
            
            textObjects.push({
                text: loveTexts[i],
                x: x,
                y: y,
                speedX: speedX,
                speedY: speedY,
                targetIdx: idx,
                color: color
            });
        }
        
        // 弹幕类
        class Danmu {
            constructor() {
                this.text = danmuTexts[Math.floor(Math.random() * danmuTexts.length)];
                this.fontSize = Math.floor(Math.random() * 7) + 18; // 18-24px
                this.color = danmuColor;
                this.alpha = 0;
                this.life = Math.floor(Math.random() * 71) + 80; // 80-150
                this.lifeCount = 0;
                
                // 随机运动方向
                if (Math.random() > 0.5) {
                    // 从左向右运动
                    this.x = Math.random() * -80 - 20;
                    this.y = Math.random() * (height - 100) + 50;
                    this.speedX = Math.random() * 1 + 3; // 3-4
                    this.speedY = Math.random() * 1 - 0.5; // -0.5-0.5
                } else {
                    // 从右向左运动
                    this.x = Math.random() * 80 + width + 20;
                    this.y = Math.random() * (height - 100) + 50;
                    this.speedX = Math.random() * -2 - 3; // -5 - -3
                    this.speedY = Math.random() * 1 - 0.5; // -0.5-0.5
                }
            }
            
            update() {
                this.lifeCount++;
                
                // 淡入
                if (this.lifeCount < this.life * 0.2) {
                    this.alpha = Math.min(1, this.alpha + 0.06);
                }
                // 淡出
                else if (this.lifeCount > this.life * 0.7) {
                    this.alpha = Math.max(0, this.alpha - 0.04);
                }
                
                // 更新位置
                this.x += this.speedX;
                this.y += this.speedY;
                
                // 重置条件
                if (this.lifeCount >= this.life || this.x < -200 || this.x > width + 200) {
                    this.reset();
                }
            }
            
            reset() {
                this.text = danmuTexts[Math.floor(Math.random() * danmuTexts.length)];
                this.fontSize = Math.floor(Math.random() * 7) + 18;
                this.alpha = 0;
                this.life = Math.floor(Math.random() * 71) + 80;
                this.lifeCount = 0;
                
                if (Math.random() > 0.5) {
                    this.x = Math.random() * -80 - 20;
                    this.y = Math.random() * (height - 100) + 50;
                    this.speedX = Math.random() * 1 + 3;
                    this.speedY = Math.random() * 1 - 0.5;
                } else {
                    this.x = Math.random() * 80 + width + 20;
                    this.y = Math.random() * (height - 100) + 50;
                    this.speedX = Math.random() * -2 - 3;
                    this.speedY = Math.random() * 1 - 0.5;
                }
            }
            
            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.font = `${this.fontSize}px "Microsoft YaHei", "微软雅黑", Arial, sans-serif`;
                ctx.fillStyle = this.color;
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";
                ctx.fillText(this.text, this.x, this.y);
                ctx.restore();
            }
        }
        
        // 初始化弹幕
        let danmuList = [];
        for (let i = 0; i < 30; i++) {
            danmuList.push(new Danmu());
        }
        
        let danmuSpawnTimer = 0;
        const danmuSpawnInterval = 20;
        
        // 帧率和动画控制
        let fps = 0;
        let lastTime = performance.now();
        let frameCount = 0;
        
        // 主动画循环
        function animate() {
            // 清除画布
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, width, height);
            
            // 更新爱心轨迹文字
            for (let obj of textObjects) {
                const [targetX, targetY] = lovePoints[obj.targetIdx];
                obj.x += (targetX - obj.x) * 0.02 + obj.speedX;
                obj.y += (targetY - obj.y) * 0.02 + obj.speedY;
                obj.targetIdx = (obj.targetIdx + 1) % lovePoints.length;
                
                // 边界反弹
                if (obj.x < 0 || obj.x > width) {
                    obj.speedX *= -1;
                }
                if (obj.y < 50 || obj.y > height - 50) {
                    obj.speedY *= -1;
                }
                
                // 绘制文字
                ctx.font = "20px 'Microsoft YaHei', '微软雅黑', Arial, sans-serif";
                ctx.fillStyle = obj.color;
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";
                ctx.fillText(obj.text, obj.x, obj.y);
            }
            
            // 更新弹幕
            danmuSpawnTimer++;
            if (danmuSpawnTimer >= danmuSpawnInterval) {
                danmuList.push(new Danmu());
                danmuSpawnTimer = 0;
                
                // 限制弹幕数量
                if (danmuList.length > 50) {
                    danmuList.shift();
                }
            }
            
            // 绘制弹幕
            for (let danmu of danmuList) {
                danmu.update();
                danmu.draw();
            }
            
            // 更新FPS显示
            frameCount++;
            const currentTime = performance.now();
            if (currentTime - lastTime >= 1000) {
                fps = Math.round(frameCount * 1000 / (currentTime - lastTime));
                // document.getElementById('fps').textContent = `FPS: ${fps}`;
                frameCount = 0;
                lastTime = currentTime;
            }
            
            requestAnimationFrame(animate);
        }
        
        // 启动动画
        animate();
        
        // 窗口大小调整处理
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        // ESC键退出
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                // 在网页中，我们无法直接关闭窗口，但可以显示提示
                if (confirm('确定要退出吗？')) {
                    window.close();
                }
            }
        });
    </script>
</body>
</html>